!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],t):"object"==typeof exports?exports.Tipsy=t(require("react"),require("react-dom")):e.Tipsy=t(e.React,e.ReactDOM)}(this,function(e,t){return function(e){function t(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=e.getBoundingClientRect();return{top:t.top+document.body.scrollTop,left:t.left+document.body.scrollLeft}}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),l=o(1),c=i(l),f=o(2),h=i(f),a=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),p(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"Tipsy in "+this.props.placement,role:"tooltip"},c.default.createElement("div",{className:"Tipsy-arrow"}),c.default.createElement("div",{className:"Tipsy-inner"},this.props.children))}}]),t}(l.PureComponent);a.propTypes={placement:l.PropTypes.oneOf(["top","right","bottom","left"]),children:l.PropTypes.node.isRequired};var d=function(e){function t(){return n(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),p(t,[{key:"componentWillMount",value:function(){this.tipsy=null,this.portal=document.createElement("div"),this.isVisible=!1}},{key:"componentDidUpdate",value:function(e){this.props.content==e.content&&this.props.placement==e.placement||!this.isVisible||this.show(!0)}},{key:"componentWillUnmount",value:function(){this.destroy()}},{key:"render",value:function(){var e=c.default.Children.only(this.props.children),t=e.props,o=t.onBlur,i=t.onClick,n=t.onFocus,r=t.onMouseOut,s=t.onMouseOver,u=t.onTouchEnd,p=t.onTouchStart,l={},f=this.props.trigger.split(" "),h=void 0,a=void 0;for(h=f.length;h--;)a=f[h],"click"==a?l.onClick=this._toggle.bind(this,i):"hover"==a?(l.onMouseOut=this._hide.bind(this,r),l.onMouseOver=this._show.bind(this,s)):"focus"==a?(l.onBlur=this._hide.bind(this,o),l.onFocus=this._show.bind(this,n)):"touch"==a&&(l.onTouchEnd=this._hide.bind(this,u),l.onTouchStart=this._show.bind(this,p));return c.default.cloneElement(e,l)}},{key:"destroy",value:function(){var e=h.default.unmountComponentAtNode(this.portal);e&&document.body.removeChild(this.portal),this.isVisible=!1,this.tipsy=null}},{key:"hide",value:function(){this.isVisible&&(h.default.unmountComponentAtNode(this.portal),document.body.removeChild(this.portal),this.isVisible=!1)}},{key:"show",value:function(e){if(e||!this.isVisible){var t=this.props.container,o=c.default.createElement(t,{placement:this.props.placement},this.props.content);document.body.appendChild(this.portal),this.tipsy=h.default.unstable_renderSubtreeIntoContainer(this,o,this.portal),this.updatePosition(),this.isVisible=!0}}},{key:"toggle",value:function(){this.isVisible?this.hide():this.show()}},{key:"updatePosition",value:function(){if(this.tipsy){var e=h.default.findDOMNode(this),t=h.default.findDOMNode(this.tipsy),o=this.props.placement,i=u(e),n=i.left,r=i.top;"top"==o?(r-=t.offsetHeight,n+=e.offsetWidth/2-t.offsetWidth/2):"bottom"==o?(r+=e.offsetHeight,n+=e.offsetWidth/2-t.offsetWidth/2):"right"==o?(r+=e.offsetHeight/2-t.offsetHeight/2,n+=e.offsetWidth):(r+=e.offsetHeight/2-t.offsetHeight/2,n-=t.offsetWidth),t.style.top=r+"px",t.style.left=n+"px"}}},{key:"_hide",value:function(e,t){if(this.hide(),e)return e(t)}},{key:"_toggle",value:function(e,t){if(this.toggle(),e)return e(t)}},{key:"_show",value:function(e,t){if(this.show(),e)return e(t)}}]),t}(l.Component);t.default=d,d.defaultProps={placement:"top",trigger:"hover focus touch",container:a},d.propTypes={children:l.PropTypes.element.isRequired,content:l.PropTypes.node.isRequired,placement:l.PropTypes.oneOf(["top","right","bottom","left"]),trigger:l.PropTypes.string,container:l.PropTypes.func},d.version="0.5.0",e.exports=t.default},function(t,o){t.exports=e},function(e,o){e.exports=t}])});