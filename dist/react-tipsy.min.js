!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):"object"==typeof exports?exports.Tipsy=e(require("react"),require("react-dom")):t.Tipsy=e(t.React,t.ReactDOM)}(this,function(t,e){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={exports:{},id:i,loaded:!1};return t[i].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}([function(t,e,o){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){var e=t.getBoundingClientRect();return{top:e.top+document.body.scrollTop,left:e.left+document.body.scrollLeft}}Object.defineProperty(e,"__esModule",{value:!0});var s=o(1),r=i(s),l=o(2),p=i(l),u=r.default.createClass({displayName:"DefaultContainer",propTypes:{placement:r.default.PropTypes.oneOf(["top","right","bottom","left"])},render:function(){return r.default.createElement("div",{className:"Tipsy in "+this.props.placement,role:"tooltip"},r.default.createElement("div",{className:"Tipsy-arrow"}),r.default.createElement("div",{className:"Tipsy-inner"},this.props.children))}}),d=r.default.createClass({displayName:"Tipsy",statics:{version:"0.4.1"},propTypes:{children:r.default.PropTypes.node.isRequired,content:r.default.PropTypes.node.isRequired,placement:r.default.PropTypes.string,trigger:r.default.PropTypes.string,container:r.default.PropTypes.oneOfType([r.default.PropTypes.func,r.default.PropTypes.node]),calculateLocation:r.default.PropTypes.func},getDefaultProps:function(){return{placement:"top",trigger:"hover focus touch",container:u,calculateLocation:function(t,e,o){var i=n(e),s=i.left,r=i.top;return"top"==t?(r-=o.offsetHeight,s=s+e.offsetWidth/2-o.offsetWidth/2):"bottom"==t?(r+=e.offsetHeight,s=s+e.offsetWidth/2-o.offsetWidth/2):"right"==t?(r=r+e.offsetHeight/2-o.offsetHeight/2,s+=e.offsetWidth):(r+=e.offsetHeight/2-o.offsetHeight/2,s-=o.offsetWidth),{left:s,top:r}}}},componentWillMount:function(){this.tipsy=null,this.portal=document.createElement("div"),this.isVisible=!1},componentDidUpdate:function(t){this.props.content==t.content&&this.props.placement==t.placement||!this.isVisible||this.show(!0)},componentWillUnmount:function(){this.destroy()},render:function(){var t=r.default.Children.only(this.props.children),e=t.props,o=e.onBlur,i=e.onClick,n=e.onFocus,s=e.onMouseOut,l=e.onMouseOver,p=e.onTouchEnd,u=e.onTouchStart,d={},c=this.props.trigger.split(" "),a=void 0,f=void 0;for(a=c.length;a--;)f=c[a],"click"==f?d.onClick=this._toggle.bind(this,i):"hover"==f?(d.onMouseOut=this._hide.bind(this,s),d.onMouseOver=this._show.bind(this,l)):"focus"==f?(d.onBlur=this._hide.bind(this,o),d.onFocus=this._show.bind(this,n)):"touch"==f&&(d.onTouchEnd=this._hide.bind(this,p),d.onTouchStart=this._show.bind(this,u));return r.default.cloneElement(t,d)},destroy:function(){var t=p.default.unmountComponentAtNode(this.portal);t&&document.body.removeChild(this.portal),this.isVisible=!1,this.tipsy=null},hide:function(){this.isVisible&&(p.default.unmountComponentAtNode(this.portal),document.body.removeChild(this.portal),this.isVisible=!1)},show:function(t){if(t||!this.isVisible){var e=this.props.container,o=r.default.createElement(e,{placement:this.props.placement},this.props.content);document.body.appendChild(this.portal),this.tipsy=p.default.unstable_renderSubtreeIntoContainer(this,o,this.portal),this.updatePosition(),this.isVisible=!0}},toggle:function(){this.isVisible?this.hide():this.show()},updatePosition:function(){if(this.tipsy){var t=p.default.findDOMNode(this),e=p.default.findDOMNode(this.tipsy),o=this.props.placement,i=this.props.calculateLocation.bind(o,t,this.tipsy),n=i.left,s=i.top;e.style.top=s+"px",e.style.left=n+"px"}},_hide:function(t,e){if(this.hide(),t)return t(e)},_toggle:function(t,e){if(this.toggle(),t)return t(e)},_show:function(t,e){if(this.show(),t)return t(e)}});e.default=d,t.exports=e.default},function(e,o){e.exports=t},function(t,o){t.exports=e}])});